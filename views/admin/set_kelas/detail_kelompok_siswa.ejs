<%- include ("../../partials/admin_layout/header.ejs") %>
<%- include ("../../partials/admin_layout/sidebar.ejs") %>
<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">

  <!-- Main content -->
  <section class="content">
    <div class="row">
      <div class="col-xs-12">
        <div class="box box-solid box-primary">
          <div class="box-header">
            <h3 class="box-title"><i class="fa fa-user-plus"></i> Data kelas</h3>
            <div class="pull-right">
              <a href="/admin/set-kelas" class="btn btn-success btn-xs">
                <span class="glyphicon glyphicon-home"></span>
                home
              </a>
              <a href="/admin/set-kelas/tambah" class="btn btn-success btn-xs">
                <span class="glyphicon glyphicon-arrow-left"></span>
                Kembali
              </a>
            </div>
          </div>
          <div class="box-body">
            <div class="row">
              <div class="col-md-12">
                <div class="nav-tabs-custom">
                  <ul class="nav nav-tabs">
                    <li class="active"><a href="#activity" data-toggle="tab"><i class="fa fa-users"></i> Daftar
                        Siswa</a></li>
                    <li><a href="#input-siswa" data-toggle="tab"><i class="fa fa-user-plus"></i> Tambah Siswa</a></li>
                  </ul>
                  <div class="tab-content">
                    <!-- include table siswa and all siswa -->
                    <%- include ("tab_table_kelas_siswa.ejs") %>
                    <%- include ("tab_table_all_siswa.ejs") %>
                  </div>
                  <!-- /.tab-content -->
                </div>

              </div>
            </div>
          </div>

        </div>
        <!-- /.box -->
      </div>
      <!-- /.col -->
    </div>
    <!-- /.row -->
  </section>
  <!-- /.content -->
</div>


<%- include ("../../partials/admin_layout/footer.ejs") %>

<script>
  $(document).ready(function () {
    // datatable
    $('#all_siswa').DataTable()
    $('#kelas_siswa').DataTable()
  })

  function delete_siswa_in_kelas(id, SiswaId, KelasId) {
    swal({
      title: "Yakin Ingin Menghapus Data Siswa di dalam Kelas ini?",
      text: "Data yang dihapus, tidak bisa kembali lagi.",
      icon: "warning",
      buttons: true,
      dangerMode: true
    }).then((willOke) => {
      if (willOke) {
        swal({
          title: "Informasi",
          text: "Success Hapus",
          position: 'top-left',
          icon: 'success',
          buttons: false,
          timer: 2000
        }).then(() => {
          window.location.assign(`/admin/set-kelas/${id}/detele/${SiswaId}/kelas/${KelasId}`);
        });
      }
    });
  }



  function add_siswa_in_kelompok(KelasId, SiswaId) {
    swal({
      title: "Tambah siswa di kelas ini",
      text: "Data siswa yang telah di input ke dalam kelas tidak akan tampil lagi.",
      icon: "warning",
      buttons: true,
      dangerMode: true
    }).then((willOke) => {
      if (willOke) {
        swal({
          title: "Informasi",
          text: "Success Tambah Siswa",
          position: 'top-left',
          icon: 'success',
          buttons: false,
          timer: 2000
        }).then(() => {
          window.location.assign(`/admin/set-kelas/${KelasId}/add-kelompok/${SiswaId}`);
        });
      }
    });
  }

</script>